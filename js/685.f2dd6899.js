"use strict";(self["webpackChunkproject_vue3_finally"]=self["webpackChunkproject_vue3_finally"]||[]).push([[685],{3633:function(t,e){e["Z"]={saveFavorite(t){const e=JSON.stringify(t);localStorage.setItem("favoriteProduct",e)},getFavorite(){return JSON.parse(localStorage.getItem("favoriteProduct"))}}},2685:function(t,e,i){i.r(e),i.d(e,{default:function(){return ct}});var s=i(3396),a=i(7139),o=i(9242);const l={class:"mt-6"},c={class:"container"},r={"aria-label":"breadcrumb"},d={class:"breadcrumb"},n={class:"breadcrumb-item"},u={class:"breadcrumb-item"},p={class:"breadcrumb-item active","aria-current":"page"},b={class:"container"},h={class:"row g-3"},m={class:"col-12 col-md-6 d-flex"},g=["src","alt"],v={class:"col-12 col-md-6 d-flex flex-column justify-content-between"},f={class:"p-2 text-brown fs-3 fw-bold bg-beige border-start border-5 border-brown mb-0"},w={class:"mt-3 d-flex justify-content-between align-items-end"},_={key:0,class:"text-decoration-line-through mb-0 fs-6 text-brown"},y={class:"mb-0 fs-5 text-brown"},x={key:0,class:"border border-3 border-red text-red px-1 ms-2 fs-6"},k={style:{width:"60px"}},L=["value"],$=(0,s._)("hr",{class:"text-brown"},null,-1),z={class:"text-brown fs-5"},D={class:"mt-5 d-flex justify-content-end justify-content-md-between"},P=(0,s._)("i",{class:"bi bi-suit-heart-fill"},null,-1),j=[P],C=(0,s._)("i",{class:"bi bi-cart4 me-1"},null,-1),q={class:"col-12 mt-5"},M=(0,s._)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link active text-brown",id:"content-tab","data-bs-toggle":"tab","data-bs-target":"#content",type:"button",role:"tab","aria-controls":"content","aria-selected":"true"},"內容")])],-1),N={class:"tab-content",id:"myTabContent"},S={class:"tab-pane fade show active",id:"content",role:"tabpanel","aria-labelledby":"content-tab"},U={key:0,class:"p-3 text-brown",style:{"list-style":"none"}},F=(0,s.uE)('<section class="mt-3 py-3"><div class="container"><div class="row row-cols-1 g-2 text-brown"><div class="col"><hr class="text-brown"></div><div class="col"><h2 class="fs-5 fw-bold"><i class="bi bi-flower3"></i>購物流程與須知</h2></div><div class="col"><p class="mb-2 fw-bold">【宅配服務】</p><ul><li>宅配配送區域僅限於台灣本島。</li><li>商品到貨時間因地區不同有所差異，平均1~3個工作天送達，配達日仍以宅配貨運實際配送情況為主。</li><li>宅配貨運遇節慶、節日或物流繁盛期送達時程會受影響，請以宅配公告、店家提醒說明為準，菓然保有出貨調整之權利。</li></ul></div><div class="col"><p class="mb-2 fw-bold">【付款方式】</p><ul><li>付款方式目前只有貨到付款(現金)。</li><li>菓然目前為是試營運狀態，訂購商品不限金額都免運費。</li></ul></div><div class="col"><p class="mb-2 fw-bold">【商品相關】</p><ul><li>菓然安心品管維護良好品質。</li><li>若您發現任何異常，如商品瑕疵不良、漏寄等等，請務必於第一時間聯絡客服，並留下訂購人資訊，我們將儘快為您處理後續退換貨事宜。</li><li>依據「通訊交易解除權合理例外情事適用準則」第2條第一項：「易於腐敗、保存期限較短或解約時即將逾期」之商品，屬於消費者保護法第19條第一項但書所稱合理例外情事。自105年1月1日起，生鮮食品不適用於消費者保護法第19條，並不享有7天猶豫期。</li><li>訂單或商品不良請洽相關客服 07-7766123 ( 週一～五 10:30-17:00) 或客服信箱 example@gmail.com</li></ul></div></div></div></section>',1),I={class:"my-5"},T={class:"container"},H=(0,s._)("div",{class:"py-3 d-flex justify-content-center"},[(0,s._)("h2",{class:"p-2 text-brown fw-bold bg-beige border-start border-5 border-brown mb-0"},"你可能也喜歡...")],-1),Y={class:"row row-cols-1 row-cols-md-3 g-3 g-md-2 d-flex justify-content-center"},Z={class:"col"},E={class:"card border-0 shadow product-card"},K={class:"overflow-hidden effect"},O=["src","alt"],V=(0,s._)("p",{class:"fs-6 text-white"},"View more",-1),W={class:"card-body text-brown"},A={class:"card-title fs-5 fw-bold"},J={class:"row"},B={class:"col-12"},G={class:"badge rounded-pill bg-beige text-brown px-3"},Q={class:"col d-flex flex-column align-items-end mt-3"},R={key:0,class:"card-text fs-6 mb-0 text-decoration-line-through"},X={key:1,class:"fs-6 mb-0 invisible"},tt={class:"card-text fs-5 mb-0"},et={key:2,class:"border border-3 border-red text-red bg-white px-2 position-absolute top-3 end-3"};function it(t,e,i,P,it,st){const at=(0,s.up)("LoadingView"),ot=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(at,{active:it.isLoading},null,8,["active"]),(0,s._)("section",l,[(0,s._)("div",c,[(0,s._)("nav",r,[(0,s._)("ol",d,[(0,s._)("li",n,[(0,s.Wm)(ot,{class:"breadcrumb-text",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("首頁")])),_:1})]),(0,s._)("li",u,[(0,s.Wm)(ot,{class:"breadcrumb-text",to:"/productList"},{default:(0,s.w5)((()=>[(0,s.Uk)("產品列表")])),_:1})]),(0,s._)("li",p,(0,a.zw)(it.product.title),1)])])])]),(0,s._)("section",null,[(0,s._)("div",b,[(0,s._)("div",h,[(0,s._)("div",m,[(0,s._)("img",{class:"img-fluid",src:it.product.imageUrl,alt:it.product.title},null,8,g)]),(0,s._)("div",v,[(0,s._)("div",null,[(0,s._)("h2",f,(0,a.zw)(it.product.title),1),(0,s._)("div",w,[(0,s._)("div",null,[it.product.origin_price!==it.product.price?((0,s.wg)(),(0,s.iD)("p",_,"NT$ "+(0,a.zw)(it.product.origin_price),1)):(0,s.kq)("",!0),(0,s._)("p",y,[(0,s.Uk)("NT$ "+(0,a.zw)(it.product.price)+" ",1),it.product.origin_price!==it.product.price?((0,s.wg)(),(0,s.iD)("span",x,"SALE")):(0,s.kq)("",!0)])]),(0,s._)("div",k,[(0,s.wy)((0,s._)("select",{class:"form-select border-black form-control-sm","onUpdate:modelValue":e[0]||(e[0]=t=>it.qty=t)},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("option",{value:t,key:t},(0,a.zw)(t),9,L))),64))],512),[[o.bM,it.qty]])])]),$,(0,s._)("p",z,(0,a.zw)(it.product.description),1)]),(0,s._)("div",D,[(0,s._)("button",{type:"button",onClick:e[1]||(e[1]=(0,o.iM)((t=>st.addFave(it.product)),["prevent"])),class:(0,a.C_)([{"btn-heart-active":it.faveList.some((t=>t===it.product.id))},"btn-heart me-2"])},j,2),(0,s._)("button",{type:"button",onClick:e[2]||(e[2]=t=>st.addCart(it.product.id,it.qty)),class:"btn btn-outline-brown btn-add-cart"},[C,(0,s.Uk)("加入購物車 ")])])]),(0,s._)("div",q,[M,(0,s._)("div",N,[(0,s._)("div",S,[it.product.content?((0,s.wg)(),(0,s.iD)("ul",U,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(it.product.content.split("\n"),((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,a.zw)(t),1)))),128))])):(0,s.kq)("",!0)])])])])])]),F,(0,s._)("section",I,[(0,s._)("div",T,[H,(0,s._)("div",Y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(it.maybeLike,(t=>((0,s.wg)(),(0,s.j4)(ot,{to:`/productList/${t.id}`,onClick:(0,o.iM)((e=>st.changId(t.id)),["prevent"]),key:t.id,class:"text-decoration-none"},{default:(0,s.w5)((()=>[(0,s._)("div",Z,[(0,s._)("div",E,[(0,s._)("div",K,[(0,s._)("img",{src:t.imageUrl,class:"card-img-top",alt:t.title},null,8,O),V]),(0,s._)("div",W,[(0,s._)("h2",A,(0,a.zw)(t.title),1),(0,s._)("div",J,[(0,s._)("div",B,[(0,s._)("span",G,(0,a.zw)(t.category),1)]),(0,s._)("div",Q,[t.origin_price!==t.price?((0,s.wg)(),(0,s.iD)("p",R,"NT$ "+(0,a.zw)(t.origin_price),1)):((0,s.wg)(),(0,s.iD)("p",X,"hidden")),(0,s._)("p",tt,"NT$ "+(0,a.zw)(t.price),1),t.origin_price!==t.price?((0,s.wg)(),(0,s.iD)("span",et,"SALE")):(0,s.kq)("",!0)])])])])])])),_:2},1032,["to","onClick"])))),128))])])])],64)}i(7658);var st=i(3633),at={data(){return{faveList:st.Z.getFavorite()||[],product:{},filterProduct:[],maybeLike:{},randomNum:0,id:"",qty:1,isLoading:!1}},inject:{emitter:["emitter"]},methods:{getProduct(){this.isLoading=!0;const t=`https://vue3-course-api.hexschool.io/api/gary123-api/product/${this.id}`;this.axios.get(t).then((t=>{t.data.success&&(this.product=t.data.product,this.filtersMaybeLike(),this.isLoading=!1)})).catch((t=>{this.isLoading=!1,this.emitter.emit("push-message",{style:"danger",title:t.response.data.message})}))},addFave(t){this.isLoading=!0,this.faveList.includes(t.id)?(this.faveList.splice(this.faveList.indexOf(t.id),1),this.$httpMessageStatus({data:{success:!0}},`已將 ${t.title} 移除收藏`),this.isLoading=!1):(this.faveList.push(t.id),this.$httpMessageStatus({data:{success:!0}},`已將 ${t.title} 加入收藏`),this.isLoading=!1),st.Z.saveFavorite(this.faveList),this.emitter.emit("update-fave",this.faveList)},addCart(t,e){this.isLoading=!0;const i="https://vue3-course-api.hexschool.io/api/gary123-api/cart",s={product_id:t,qty:e};this.axios.post(i,{data:s}).then((e=>{e.data.success&&(this.emitter.emit("update-cart",t),this.isLoading=!1,this.$httpMessageStatus(e,"加入購物車"))})).catch((t=>{this.isLoading=!1,this.emitter.emit("push-message",{style:"danger",title:t.response.data.message})}))},filtersMaybeLike(){const t="https://vue3-course-api.hexschool.io/api/gary123-api/products/all";this.axios.get(t).then((t=>{t.data.success&&(this.filterProduct=t.data.products.filter((t=>t.category===this.product.category&&t.id!==this.product.id)),this.randomNum=this.filterProduct.length,this.randomProduct())})).catch((t=>{this.isLoading=!1,this.emitter.emit("push-message",{style:"danger",title:t.response.data.message})}))},randomProduct(){this.maybeLike=this.filterProduct.sort((()=>Math.random()-.5)),this.maybeLike.splice(0,parseInt(this.randomNum)-3)},changId(t){this.id=t,this.getProduct()}},created(){this.id=this.$route.params.productId,this.getProduct()}},ot=i(89);const lt=(0,ot.Z)(at,[["render",it]]);var ct=lt}}]);
//# sourceMappingURL=685.f2dd6899.js.map