{"version":3,"file":"js/897.0b1b4aad.js","mappings":"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","sources":["webpack://project-vue3-finally/./src/views/backend/OrdersView.vue","webpack://project-vue3-finally/./src/components/OrderModal.vue","webpack://project-vue3-finally/./src/components/OrderModal.vue?b91a","webpack://project-vue3-finally/./src/views/backend/OrdersView.vue?8674"],"sourcesContent":["<template>\r\n  <LoadingView :active=\"isLoading\"/>\r\n  <div class=\"table-responsive\">\r\n    <table class=\"table mt-4\">\r\n      <thead class=\"table-beige text-brown\">\r\n        <tr class=\"text-nowrap\">\r\n          <th width=\"120\">購買時間</th>\r\n          <th width=\"120\">E-mail</th>\r\n          <th width=\"240\">購買款項</th>\r\n          <th width=\"120\">應付金額</th>\r\n          <th width=\"100\">是否付款</th>\r\n          <th width=\"200\">編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-for=\"(item) in orders\" :key=\"item.id\">\r\n          <tr v-if=\"orders.length\" class=\"align-middle text-nowrap\"\r\n              :class=\"{'text-secondary': !item.is_paid}\">\r\n            <td>{{ $filters.date(item.create_at) }}</td>\r\n            <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n            <td>\r\n              <ul class=\"list-unstyled\">\r\n                <li v-for=\"(product) in item.products\" :key=\"product.id\">\r\n                  {{ product.product.title }} 數量：{{ product.qty }}\r\n                  {{ product.product.unit }}\r\n                </li>\r\n              </ul>\r\n            </td>\r\n            <td class=\"text-right\">{{ item.total }}</td>\r\n            <td>\r\n              <div class=\"form-check form-switch\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" :id=\"`paidSwitch${item.id}`\"\r\n                v-model=\"item.is_paid\"\r\n                @change=\"updatePaid(item)\">\r\n                <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                  <span v-if=\"item.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\r\n                        @click=\"openOrderModal(item)\">檢視</button>\r\n                <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                        @click=\"openDeleteModal(item)\">刪除</button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <OrderModal ref=\"orderModal\"\r\n  :order=\"tempOrder\" @update-paid=\"updatePaid\"></OrderModal>\r\n  <DelModal :item=\"tempOrder\" ref=\"deleteModal\" @delete-product=\"delOrder\"></DelModal>\r\n  <Pagination :pages=\"pagination\"\r\n  @emit-page=\"getOrders\"></Pagination>\r\n</template>\r\n\r\n<script>\r\nimport OrderModal from '@/components/OrderModal.vue'\r\nimport DelModal from '@/components/DeleteModal.vue'\r\nimport Pagination from '@/components/PaginationView.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      pagination: {},\r\n      tempOrder: {},\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    OrderModal, DelModal, Pagination\r\n  },\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.axios.get(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.orders = res.data.orders\r\n            this.pagination = res.data.pagination\r\n            this.isLoading = false\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    },\r\n    openOrderModal (item) {\r\n      this.tempOrder = { ...item }\r\n      this.$refs.orderModal.showModal()\r\n    },\r\n    openDeleteModal (item) {\r\n      this.tempOrder = { ...item }\r\n      this.$refs.deleteModal.showModal()\r\n    },\r\n    updatePaid (item) {\r\n      this.isLoading = true\r\n      const paid = {\r\n        is_paid: item.is_paid\r\n      }\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\r\n      this.axios.put(api, { data: paid })\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          this.$refs.orderModal.hideModal()\r\n          this.$httpMessageStatus(res, '更新付款狀態')\r\n          this.getOrders()\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    },\r\n    delOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n      this.isLoading = true\r\n      this.axios.delete(url)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          this.$refs.deleteModal.hideModal()\r\n          this.$httpMessageStatus(res, '刪除訂單')\r\n          this.getOrders()\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\"\r\n    id=\"productModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                  <tr class=\"border border-white\">\r\n                    <th>留言</th>\r\n                    <td>{{ tempOrder.message }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">{{ $filters.date(tempOrder.paid_date) }}</span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\r\n                      <span v-else class=\"text-danger\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      {{ $filters.currency(tempOrder.total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead class=\"table-dark\">\r\n                  <tr>\r\n                    <th>商品名稱</th>\r\n                    <th>單價</th>\r\n                    <th>數量</th>\r\n                    <th class=\"text-end\">小計</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <td>{{ item.product.title }}</td>\r\n                    <td>{{ item.product.price }}</td>\r\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    <td class=\"text-end\">\r\n                      {{ $filters.currency(item.final_total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">關閉</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  name: 'orderModal',\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  watch: {\r\n    order () {\r\n      this.tempOrder = this.order\r\n      this.isPaid = this.tempOrder.is_paid\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      status: {},\r\n      modal: '',\r\n      tempOrder: {},\r\n      isPaid: false\r\n    }\r\n  },\r\n  emits: ['update-product'],\r\n  mixins: [modalMixin]\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=9319dc3a\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tnw77\\\\Desktop\\\\Vue3-demo\\\\project-vue3-finally\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrdersView.vue?vue&type=template&id=31b88acb\"\nimport script from \"./OrdersView.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tnw77\\\\Desktop\\\\Vue3-demo\\\\project-vue3-finally\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createVNode","_component_LoadingView","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","orders","item","id","length","_normalizeClass","is_paid","_toDisplayString","_ctx","$filters","date","create_at","user","email","_hoisted_5","products","product","key","title","qty","unit","_hoisted_6","total","_hoisted_7","type","$event","onChange","$options","updatePaid","for","_hoisted_10","_hoisted_11","_hoisted_12","onClick","openOrderModal","_hoisted_13","openDeleteModal","_hoisted_14","_component_OrderModal","ref","order","tempOrder","onUpdatePaid","_component_DelModal","onDeleteProduct","delOrder","_component_Pagination","pages","pagination","onEmitPage","getOrders","tabindex","role","style","_hoisted_4","_hoisted_8","_hoisted_9","name","tel","address","_hoisted_15","_hoisted_16","message","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","paid_date","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","currency","_hoisted_29","_hoisted_30","_hoisted_31","price","_hoisted_32","final_total","_hoisted_33","props","Object","default","watch","this","isPaid","data","status","modal","emits","mixins","modalMixin","__exports__","components","OrderModal","DelModal","Pagination","methods","page","url","axios","get","then","res","success","catch","error","emitter","emit","response","$refs","orderModal","showModal","deleteModal","paid","api","put","hideModal","$httpMessageStatus","delete","created","render"],"sourceRoot":""}