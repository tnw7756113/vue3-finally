{"version":3,"file":"js/305.db689558.js","mappings":"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","sources":["webpack://project-vue3-finally/./src/components/PaginationView.vue","webpack://project-vue3-finally/./src/components/PaginationView.vue?d04d","webpack://project-vue3-finally/./src/views/frontend/ProductList.vue","webpack://project-vue3-finally/./src/views/frontend/ProductList.vue?f1d8"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{ 'disabled': pages.has_pre === false }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\r\n        @click.prevent=\"updatePage(pages.current_page - 1)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\"\r\n      :class=\"{ 'active': page === pages.current_page }\">\r\n        <a class=\"page-link\" href=\"#\"\r\n        @click.prevent=\"updatePage(page)\">{{ page }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ 'disabled': pages.has_next === false }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\r\n        @click.prevent=\"updatePage(pages.current_page + 1)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('emit-page', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PaginationView.vue?vue&type=template&id=72aa5000\"\nimport script from \"./PaginationView.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tnw77\\\\Desktop\\\\Vue3-demo\\\\project-vue3-finally\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <LoadingView :active=\"isLoading\"/>\r\n  <section class=\"mt-6\">\r\n    <div class=\"banner d-flex flex-column justify-content-center align-items-center\">\r\n      <div class=\"text-center\">\r\n        <h1 class=\"banner-title mb-3\">商品一覽</h1>\r\n        <span class=\"banner-text\">好吃的和菓子都在這裡！</span>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <section>\r\n    <div class=\"container\">\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol class=\"breadcrumb my-3\">\r\n          <li class=\"breadcrumb-item\"><router-link class=\"breadcrumb-text\" to=\"/\">首頁</router-link></li>\r\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">產品列表</li>\r\n        </ol>\r\n      </nav>\r\n    </div>\r\n  </section>\r\n  <section>\r\n    <div class=\"container\">\r\n      <div class=\"row g-3\">\r\n        <div class=\"col-12 col-md-2\">\r\n          <div class=\"text-center d-flex flex-md-column justify-content-center\">\r\n            <button v-for=\"item in categoryList\" :key=\"item.value\"\r\n            class=\"btn btn-outline-brown me-1 me-md-0 mb-md-1 py-md-2 text-nowrap\" type=\"button\"\r\n            @click=\"filterProducts(item.value)\"\r\n            :class=\"{ active: item.value === this.currentCategory }\">\r\n              {{ item.value }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-md-10\">\r\n          <div class=\"row row-cols-2 row-cols-lg-3 g-2 g-md-3\">\r\n            <div class=\"col\" v-for=\"item in tempProduct\" :key=\"item.id\">\r\n              <router-link :to=\"`/productList/${item.id}`\"  class=\"text-decoration-none\">\r\n                <div class=\"card border-0 shadow-sm product-card\">\r\n                  <div class=\"overflow-hidden effect\">\r\n                    <img :src=\"item.imageUrl\" class=\"card-img-top\" :alt=\"item.title\">\r\n                    <p class=\"fs-6 text-white w-100 text-center\">View more</p>\r\n                  </div>\r\n                  <div class=\"card-body d-flex flex-column justify-content-between\">\r\n                    <div class=\"col-12\">\r\n                      <h2 class=\"card-title fs-5 fw-bold text-brown\">{{ item.title }}</h2>\r\n                      <span class=\"badge rounded-pill bg-beige text-brown px-3\">{{ item.category }}</span>\r\n                    </div>\r\n                    <div class=\"col-12 d-flex flex-column align-items-end mt-3 text-brown\">\r\n                      <p v-if=\"item.origin_price !== item.price\"\r\n                      class=\"card-text fs-6 text-decoration-line-through mb-0\">NT$ {{ item.origin_price }}</p>\r\n                      <p v-else class=\"fs-6 invisible mb-0\">hidden</p>\r\n                      <p class=\"card-text fs-5 fw-bold mb-0\">NT$ {{ item.price }}</p>\r\n                      <span class=\"border border-3 border-red text-red bg-white px-2 position-absolute top-3 end-3\"\r\n                        v-if=\"item.origin_price !== item.price\">SALE</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n          <div class=\"my-5\">\r\n            <Pagination :pages=\"pagination\"\r\n            @emit-page=\"(page) => filterProducts(currentCategory, page)\"></Pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/PaginationView.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      tempProduct: {},\r\n      currentCategory: '全部',\r\n      pagination: {},\r\n      isLoading: false,\r\n      categoryList: [\r\n        { value: '全部' },\r\n        { value: '生菓子' },\r\n        { value: '半生菓子' },\r\n        { value: '乾菓子' }\r\n      ]\r\n    }\r\n  },\r\n  components: {\r\n    Pagination\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProduct (page = 1) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.products = res.data.products\r\n            this.tempProduct = this.products\r\n            this.pagination = res.data.pagination\r\n            this.setPagination(page)\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    },\r\n    filterProducts (value, page = 1) {\r\n      this.isLoading = true\r\n      setTimeout(() => {\r\n        this.currentCategory = value\r\n        if (value === '全部') {\r\n          this.tempProduct = this.products\r\n          this.setPagination(page)\r\n          this.isLoading = false\r\n        } else {\r\n          this.tempProduct = this.products.filter((item) => {\r\n            return item.category === value\r\n          })\r\n          this.setPagination(page)\r\n          this.isLoading = false\r\n        }\r\n      }, 1000)\r\n    },\r\n    getProductId (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    setPagination (page) {\r\n      const pageSize = 6\r\n      this.pagination = {\r\n        total_pages: Math.ceil(this.tempProduct.length / pageSize),\r\n        current_page: page,\r\n        has_pre: false,\r\n        has_next: false,\r\n        category: null\r\n      }\r\n      this.pagination.has_pre = this.pagination.current_page > 1\r\n      this.pagination.has_next = this.pagination.current_page < this.pagination.total_pages\r\n\r\n      const minPage = (this.pagination.current_page * pageSize) - pageSize\r\n      const maxPage = (this.pagination.current_page * pageSize)\r\n      this.tempProduct = this.tempProduct.slice(minPage, maxPage)\r\n    }\r\n  },\r\n  created () {\r\n    this.getProduct()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductList.vue?vue&type=template&id=6aa31eaf\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tnw77\\\\Desktop\\\\Vue3-demo\\\\project-vue3-finally\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_normalizeClass","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_Fragment","_renderList","total_pages","page","key","_hoisted_5","has_next","props","methods","this","$emit","__exports__","render","_createVNode","_component_LoadingView","active","$data","isLoading","_hoisted_4","_component_router_link","to","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","categoryList","item","value","currentCategory","type","filterProducts","_hoisted_11","_hoisted_12","_hoisted_13","tempProduct","id","_hoisted_14","_hoisted_15","src","imageUrl","alt","title","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_toDisplayString","_hoisted_21","category","_hoisted_22","origin_price","price","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_component_Pagination","pagination","onEmitPage","data","products","components","Pagination","inject","getProduct","api","axios","get","then","res","success","setPagination","catch","error","emitter","emit","style","response","message","setTimeout","filter","getProductId","$router","push","pageSize","Math","ceil","length","minPage","maxPage","slice","created"],"sourceRoot":""}