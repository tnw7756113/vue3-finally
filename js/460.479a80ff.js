"use strict";(self["webpackChunkproject_vue3_finally"]=self["webpackChunkproject_vue3_finally"]||[]).push([[460],{9460:function(s,e,t){t.r(e),t.d(e,{default:function(){return _}});var n=t(3396),a=t(9242);const o={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},i={class:"container"},r={class:"col-md-6 p-5 border border-brown border-5 text-brown bg-beige"},l=(0,n._)("h1",{class:"fs-3 mb-5 fw-bold"},"管理者登入平台",-1),u={class:"mb-2"},c=(0,n._)("label",{for:"inputEmail",class:"sr-only"},"Email",-1),d={class:"mb-2"},p=(0,n._)("label",{for:"inputPassword",class:"sr-only"},"密碼",-1),b={class:"text-end mt-4"},h=(0,n._)("button",{type:"submit",class:"btn btn-brown btn-block"},"登入",-1);function m(s,e,t,m,g,f){const w=(0,n.up)("LoadingView");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(w,{active:g.isLoading},null,8,["active"]),(0,n._)("section",o,[(0,n._)("div",i,[(0,n._)("form",{class:"row justify-content-center",onSubmit:e[3]||(e[3]=(0,a.iM)(((...s)=>f.signIn&&f.signIn(...s)),["prevent"]))},[(0,n._)("div",r,[l,(0,n._)("div",u,[c,(0,n.wy)((0,n._)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"請輸入Email",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=s=>g.user.username=s)},null,512),[[a.nr,g.user.username]])]),(0,n._)("div",d,[p,(0,n.wy)((0,n._)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":e[1]||(e[1]=s=>g.user.password=s)},null,512),[[a.nr,g.user.password]])]),(0,n._)("div",b,[(0,n._)("button",{type:"button",onClick:e[2]||(e[2]=(...s)=>f.backToIndex&&f.backToIndex(...s)),class:"btn btn-brown btn-block me-2"},"返回"),h])])],32)])])],64)}t(7658);var g={data(){return{user:{username:"",password:""},isLoading:!1}},methods:{signIn(){this.isLoading=!0;const s="https://vue3-course-api.hexschool.io/admin/signin";this.axios.post(s,this.user).then((s=>{if(s.data.success){this.isLoading=!1;const e=s.data.token,t=s.data.expired;document.cookie=`hexToken=${e};expires=${new Date(t)};`,this.$httpMessageStatus(s,"登入"),this.$router.push("/dashboard/products")}else this.isLoading=!1,this.$httpMessageStatus(s,"登入")})).catch((s=>{this.isLoading=!1,this.emitter.emit("push-message",{style:"danger",title:s.response.data.message})}))},backToIndex(){this.$router.push("/")}}},f=t(89);const w=(0,f.Z)(g,[["render",m]]);var _=w}}]);
//# sourceMappingURL=460.479a80ff.js.map