"use strict";(self["webpackChunkproject_vue3_finally"]=self["webpackChunkproject_vue3_finally"]||[]).push([[305],{4286:function(t,e,a){a.d(e,{Z:function(){return v}});var i=a(3396),s=a(7139),n=a(9242);const r={"aria-label":"Page navigation example"},c={class:"pagination justify-content-center"},o=(0,i._)("span",{"aria-hidden":"true"},"«",-1),l=[o],d=["onClick"],u=(0,i._)("span",{"aria-hidden":"true"},"»",-1),p=[u];function g(t,e,a,o,u,g){return(0,i.wg)(),(0,i.iD)("nav",r,[(0,i._)("ul",c,[(0,i._)("li",{class:(0,s.C_)(["page-item",{disabled:!1===a.pages.has_pre}])},[(0,i._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,n.iM)((t=>g.updatePage(a.pages.current_page-1)),["prevent"]))},l)],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pages.total_pages,(t=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(["page-item",{active:t===a.pages.current_page}]),key:t},[(0,i._)("a",{class:"page-link",href:"#",onClick:(0,n.iM)((e=>g.updatePage(t)),["prevent"])},(0,s.zw)(t),9,d)],2)))),128)),(0,i._)("li",{class:(0,s.C_)(["page-item",{disabled:!1===a.pages.has_next}])},[(0,i._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,n.iM)((t=>g.updatePage(a.pages.current_page+1)),["prevent"]))},p)],2)])])}var h={props:["pages"],methods:{updatePage(t){this.$emit("emit-page",t)}}},m=a(89);const _=(0,m.Z)(h,[["render",g]]);var v=_},5305:function(t,e,a){a.r(e),a.d(e,{default:function(){return K}});var i=a(3396),s=a(7139);const n=(0,i.uE)('<section class="mt-6"><div class="banner d-flex flex-column justify-content-center align-items-center"><div class="text-center"><h1 class="banner-title mb-3">商品一覽</h1><span class="banner-text">好吃的和菓子都在這裡！</span></div></div></section>',1),r={class:"container"},c={"aria-label":"breadcrumb"},o={class:"breadcrumb my-3"},l={class:"breadcrumb-item"},d=(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"產品列表",-1),u={class:"container"},p={class:"row g-3"},g={class:"col-12 col-md-2"},h={class:"text-center d-flex flex-md-column justify-content-center"},m=["onClick"],_={class:"col-12 col-md-10"},v={class:"row row-cols-2 row-cols-lg-3 g-2 g-md-3"},b={class:"card border-0 shadow-sm product-card"},f={class:"overflow-hidden effect"},w=["src","alt"],x=(0,i._)("p",{class:"fs-6 text-white w-100 text-center"},"View more",-1),y={class:"card-body d-flex flex-column justify-content-between"},P={class:"col-12"},k={class:"card-title fs-5 fw-bold text-brown"},C={class:"badge rounded-pill bg-beige text-brown px-3"},L={class:"col-12 d-flex flex-column align-items-end mt-3 text-brown"},D={key:0,class:"card-text fs-6 text-decoration-line-through mb-0"},j={key:1,class:"fs-6 invisible mb-0"},z={class:"card-text fs-5 fw-bold mb-0"},$={key:2,class:"border border-3 border-red text-red bg-white px-2 position-absolute top-3 end-3"},H={class:"my-5"};function M(t,e,a,M,W,Y){const Z=(0,i.up)("LoadingView"),E=(0,i.up)("router-link"),K=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Z,{active:W.isLoading},null,8,["active"]),n,(0,i._)("section",null,[(0,i._)("div",r,[(0,i._)("nav",c,[(0,i._)("ol",o,[(0,i._)("li",l,[(0,i.Wm)(E,{class:"breadcrumb-text",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("首頁")])),_:1})]),d])])])]),(0,i._)("section",null,[(0,i._)("div",u,[(0,i._)("div",p,[(0,i._)("div",g,[(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(W.categoryList,(t=>((0,i.wg)(),(0,i.iD)("button",{key:t.value,class:(0,s.C_)(["btn btn-outline-brown me-1 me-md-0 mb-md-1 py-md-2 text-nowrap",{active:t.value===this.currentCategory}]),type:"button",onClick:e=>Y.filterProducts(t.value)},(0,s.zw)(t.value),11,m)))),128))])]),(0,i._)("div",_,[(0,i._)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(W.tempProduct,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:t.id},[(0,i.Wm)(E,{to:`/productList/${t.id}`,class:"text-decoration-none"},{default:(0,i.w5)((()=>[(0,i._)("div",b,[(0,i._)("div",f,[(0,i._)("img",{src:t.imageUrl,class:"card-img-top",alt:t.title},null,8,w),x]),(0,i._)("div",y,[(0,i._)("div",P,[(0,i._)("h2",k,(0,s.zw)(t.title),1),(0,i._)("span",C,(0,s.zw)(t.category),1)]),(0,i._)("div",L,[t.origin_price!==t.price?((0,i.wg)(),(0,i.iD)("p",D,"NT$ "+(0,s.zw)(t.origin_price),1)):((0,i.wg)(),(0,i.iD)("p",j,"hidden")),(0,i._)("p",z,"NT$ "+(0,s.zw)(t.price),1),t.origin_price!==t.price?((0,i.wg)(),(0,i.iD)("span",$,"SALE")):(0,i.kq)("",!0)])])])])),_:2},1032,["to"])])))),128))]),(0,i._)("div",H,[(0,i.Wm)(K,{pages:W.pagination,onEmitPage:e[0]||(e[0]=t=>Y.filterProducts(W.currentCategory,t))},null,8,["pages"])])])])])])],64)}a(7658);var W=a(4286),Y={data(){return{products:[],tempProduct:{},currentCategory:"全部",pagination:{},isLoading:!1,categoryList:[{value:"全部"},{value:"生菓子"},{value:"半生菓子"},{value:"乾菓子"}]}},components:{Pagination:W.Z},inject:["emitter"],methods:{getProduct(t=1){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/gary123-api/products/all";this.axios.get(e).then((e=>{e.data.success&&(this.isLoading=!1,this.products=e.data.products,this.tempProduct=this.products,this.pagination=e.data.pagination,this.setPagination(t))})).catch((t=>{this.isLoading=!1,this.emitter.emit("push-message",{style:"danger",title:t.response.data.message})}))},filterProducts(t,e=1){this.isLoading=!0,setTimeout((()=>{this.currentCategory=t,"全部"===t?(this.tempProduct=this.products,this.setPagination(e),this.isLoading=!1):(this.tempProduct=this.products.filter((e=>e.category===t)),this.setPagination(e),this.isLoading=!1)}),1e3)},getProductId(t){this.$router.push(`/user/product/${t}`)},setPagination(t){const e=6;this.pagination={total_pages:Math.ceil(this.tempProduct.length/e),current_page:t,has_pre:!1,has_next:!1,category:null},this.pagination.has_pre=this.pagination.current_page>1,this.pagination.has_next=this.pagination.current_page<this.pagination.total_pages;const a=this.pagination.current_page*e-e,i=this.pagination.current_page*e;this.tempProduct=this.tempProduct.slice(a,i)}},created(){this.getProduct()}},Z=a(89);const E=(0,Z.Z)(Y,[["render",M]]);var K=E}}]);
//# sourceMappingURL=305.db689558.js.map