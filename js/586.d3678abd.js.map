{"version":3,"file":"js/586.d3678abd.js","mappings":"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","sources":["webpack://project-vue3-finally/./src/views/backend/ProductView.vue","webpack://project-vue3-finally/./src/components/ProductModal.vue","webpack://project-vue3-finally/./src/components/ProductModal.vue?b0ff","webpack://project-vue3-finally/./src/views/backend/ProductView.vue?3af9"],"sourcesContent":["<template>\r\n  <LoadingView :active=\"isLoading\"/>\r\n  <div class=\"d-flex justify-content-end\">\r\n    <button class=\"btn btn-brown\" type=\"button\"\r\n    @click=\"openModal(true)\">新增產品項目</button>\r\n  </div>\r\n  <div class=\"table-responsive\">\r\n    <table class=\"table mt-4\">\r\n      <thead class=\"table-beige text-brown\">\r\n        <tr class=\"text-nowrap\">\r\n          <th width=\"100\">分類</th>\r\n          <th width=\"120\">產品名稱</th>\r\n          <th width = \"120\">產品圖片</th>\r\n          <th>產品敘述</th>\r\n          <th width =\"120\">原價</th>\r\n          <th width =\"120\">售價</th>\r\n          <th width =\"100\">是否啟用</th>\r\n          <th width=\"200\">編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in products\" :key=\"item.id\">\r\n          <td class=\"text-nowrap\">{{ item.category }}</td>\r\n          <td class=\"text-nowrap\">{{ item.title }}</td>\r\n          <td>\r\n            <img :src=\"item.imageUrl\" :alt=\"item.title\" style=\"width: 160px; height: 110px;\">\r\n          </td>\r\n          <td width = \"300\">{{ item.description }}</td>\r\n          <td class=\"text-right\">\r\n            {{ $filters.currency(item.origin_price)  }}\r\n          </td>\r\n          <td class=\"text-right\">\r\n            {{ $filters.currency(item.price) }}\r\n          </td>\r\n          <td>\r\n            <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\r\n            <span class=\"text-muted\" v-else>未啟用</span>\r\n          </td>\r\n          <td class=\"text-nowrap\">\r\n            <div class=\"btn-group\">\r\n              <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\r\n              @click=\"openModal(false, item)\">編輯</button>\r\n              <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n              @click=\"deleteModal(item)\">刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <Pagination :pages=\"pagination\"\r\n  @emit-page=\"getProducts\"></Pagination>\r\n  <ProductModal ref=\"productModal\"\r\n  :product=\"tempProduct\"\r\n  @update-product=\"updateProduct\"></ProductModal>\r\n  <DeleteModal ref=\"deleteModal\"\r\n  :item=\"tempProduct\"\r\n  @delete-product=\"deleteProduct\"></DeleteModal>\r\n</template>\r\n\r\n<script>\r\nimport ProductModal from '@/components/ProductModal.vue'\r\nimport DeleteModal from '@/components/DeleteModal.vue'\r\nimport Pagination from '@/components/PaginationView.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      tempProduct: {},\r\n      isNew: false,\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    ProductModal,\r\n    DeleteModal,\r\n    Pagination\r\n  },\r\n  inject: {\r\n    emitter: ['emitter']\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`\r\n      this.axios.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.products = res.data.products\r\n            this.pagination = res.data.pagination\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    },\r\n    openModal (isNew, item) {\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n      const productComponet = this.$refs.productModal\r\n      productComponet.showModal()\r\n    },\r\n    deleteModal (item) {\r\n      this.tempProduct = { ...item }\r\n      const deleteCompomet = this.$refs.deleteModal\r\n      deleteCompomet.showModal()\r\n    },\r\n    updateProduct (item) {\r\n      this.isLoading = true\r\n      this.tempProduct = item\r\n      // add\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethod = 'post'\r\n\r\n      // update\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n        httpMethod = 'put'\r\n      }\r\n      const productComponet = this.$refs.productModal\r\n      this.axios[httpMethod](api, { data: this.tempProduct })\r\n        .then((res) => {\r\n          this.getProducts()\r\n          this.isLoading = false\r\n          productComponet.hideModal()\r\n          this.$httpMessageStatus(res, '更新產品')\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    },\r\n    deleteProduct () {\r\n      this.isLoading = true\r\n      const apiDelete = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      const deleteCompomet = this.$refs.deleteModal\r\n      this.axios.delete(apiDelete, { data: this.tempProduct })\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          deleteCompomet.hideModal()\r\n          this.getProducts()\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <LoadingView :active=\"isLoading\"/>\r\n  <div class=\"modal fade\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\"\r\n  ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n          <span>產品</span>\r\n        </h5>\r\n        <button type=\"button\" class=\"btn-close\"\r\n                data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-4\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"image\"\r\n                  placeholder=\"請輸入圖片連結\" v-model=\"tempProduct.imageUrl\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n            <i class=\"fas fa-spinner fa-spin\"></i>\r\n            </label>\r\n            <input type=\"file\" id=\"customFile\" class=\"form-control\"\r\n              ref=\"fileInput\" @change=\"uploadFile\">\r\n          </div>\r\n          <img class=\"img-fluid\" alt=\"\">\r\n          </div>\r\n          <div class=\"col-sm-8\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"title\" class=\"form-label\">標題</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"title\"\r\n                  placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\r\n          </div>\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n            <label for=\"category\" class=\"form-label\">分類</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"category\"\r\n                  placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n            <label for=\"price\" class=\"form-label\">單位</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"unit\"\r\n                  placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\r\n            </div>\r\n          </div>\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n            <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n                  placeholder=\"請輸入原價\" v-model=\"tempProduct.origin_price\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n            <label for=\"price\" class=\"form-label\">售價</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                  placeholder=\"請輸入售價\" v-model=\"tempProduct.price\">\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <div class=\"mb-3\">\r\n            <label for=\"description\" class=\"form-label\">產品描述</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n                    placeholder=\"請輸入產品描述\"\r\n                    v-model=\"tempProduct.description\"></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"content\" class=\"form-label\">說明內容</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n                    placeholder=\"請輸入產品說明內容\"\r\n                    v-model=\"tempProduct.content\"></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <div class=\"form-check\">\r\n            <input class=\"form-check-input\" type=\"checkbox\"\r\n                    :true-value=\"1\"\r\n                    :false-value=\"0\"\r\n                    id=\"is_enabled\" v-model=\"tempProduct.is_enabled\">\r\n            <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                data-bs-dismiss=\"modal\">取消\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-primary\"\r\n        @click=\"$emit('update-product',tempProduct)\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  watch: {\r\n    product () {\r\n      this.tempProduct = this.product\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      tempProduct: {},\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    uploadFile () {\r\n      this.isLoading = true\r\n      const uploadFile = this.$refs.fileInput.files[0]\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', uploadFile)\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      this.$http.post(url, formData)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.tempProduct.imageUrl = res.data.imageUrl\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: error.response.data.message\r\n          })\r\n        })\r\n    }\r\n  },\r\n  mixins: [modalMixin]\r\n}\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=61643cf2\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tnw77\\\\Desktop\\\\Vue3-demo\\\\project-vue3-finally\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductView.vue?vue&type=template&id=0b98ff80\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\tnw77\\\\Desktop\\\\Vue3-demo\\\\project-vue3-finally\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createVNode","_component_LoadingView","active","$data","isLoading","_hoisted_1","type","onClick","_cache","$event","$options","openModal","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","products","item","key","id","_hoisted_5","_toDisplayString","category","_hoisted_6","title","src","imageUrl","alt","style","_hoisted_8","description","_hoisted_9","_ctx","$filters","currency","origin_price","_hoisted_10","price","is_enabled","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","deleteModal","_hoisted_16","_component_Pagination","pages","pagination","onEmitPage","getProducts","_component_ProductModal","ref","product","tempProduct","onUpdateProduct","updateProduct","_component_DeleteModal","onDeleteProduct","deleteProduct","tabindex","role","for","_hoisted_7","placeholder","onChange","args","uploadFile","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","unit","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","content","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","$emit","props","Object","default","watch","this","data","modal","methods","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","res","success","catch","error","emitter","emit","response","message","mixins","modalMixin","__exports__","isNew","components","ProductModal","DeleteModal","Pagination","inject","page","api","axios","get","productComponet","productModal","showModal","deleteCompomet","httpMethod","hideModal","$httpMessageStatus","apiDelete","delete","created","render"],"sourceRoot":""}